<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>IPv6</title>
  <meta name="description" content="The IPv6 Protocol">
  <meta name="author" content="Mateusz Adamowski">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.0/reset.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.0/reveal.min.css">
  <link rel="stylesheet" href="css/ma.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.0/theme/black.min.css" id="theme">
  <!-- Theme used for syntax highlighting of code -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.0/plugin/highlight/zenburn.min.css">
  <style>
  .reveal h1,
  .reveal h2,
  .reveal h3,
  .reveal h4,
  .reveal h5 { text-transform: none; font-variant: small-caps; }

  span.noupper { text-transform: none; font-variant: normal; }

  aside.rfc { font-size: 65%; }

  section.wow.white h2
  {
        font-size: 400%;
        animation-duration: 5s;
        animation-name: whitefire;
        animation-iteration-count: infinite;
  }

  @keyframes whitefire {

        0% {
        text-shadow:
                rgba( 100%, 100%, 100%, 100% ) 0 0 0.2vmax,
                rgba( 100%, 100%, 100%, 100% ) 0 0 1vmax ;
        }

        20% {
        text-shadow:
                rgba( 70%, 70%, 100%, 80% ) 0 0.1vmax 0.1vmax,
                rgba( 100%, 100%, 100%, 100% ) 0 0 2vmax ;
        }

        40% {
        text-shadow:
                rgba( 100%, 100%, 100%, 100% ) 0 0 0.25vmax,
                rgba( 80%, 80%, 100%, 100% ) 0 0 0.5vmax ;
        }

        100% {
        text-shadow:
                rgba( 100%, 100%, 100%, 100% ) 0 0 0.2vmax,
                rgba( 100%, 100%, 100%, 100% ) 0 0 1vmax ;
        }

  }

  </style>
  <link rel="icon" href="icons/ipv6.png" type="image/png">
</head>
<body>
  <div class="reveal">
    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
      <section>
        <section data-background="bg/hal-gatewood-OgvqXGL7XO4-unsplash.jpg">
          <h1>IPv6</h1>
          <h2 class="fragment">The Internet Protocol<br>
          version 6</h2>
        </section>
      </section>

      <section>
        <section data-background="bg/evan-dennis-i--IN3cvEjg-unsplash.jpg">
          <h3>Intro</h3>
          <p><span style='font-size: 2em;'>Why IPv6?</span></p>
          <p class="fragment">(given we have IPv4)</p>
        </section>

        <section data-background-image="bg/dylan-collette-bVk6C1emSxk-unsplash.jpg">
          <h3>IPv4</h3>
          <p class="fragment">created in 1981</p>
          <p class="fragment">competing with IPX</p>
          <p class="fragment">become popular after 1990 (WWW)</p>
          <aside class="rfc fragment">
            <a href="https://tools.ietf.org/html/rfc791">RFC 791</a>
          </aside>
        </section>

        <section data-background="#fff">
          <h3>IPv4 header</h3><img src="assets/ipv6/ipv4-header.png">
        </section>

        <section data-background-image="bg/dylan-collette-bVk6C1emSxk-unsplash.jpg">
          <h3>IPv4 disadvantages and limitations</h3>
          <ul>
            <li class="fragment">address length <span class="fragment">⇔ number of possible addresses</span></li>
            <li class="fragment">NAT (Network Address Translation)</li>
            <li class="fragment">fragmentation</li>
            <li class="fragment">header checksum calculation</li>
          </ul>
        </section>

        <section data-background-image="bg/dylan-collette-bVk6C1emSxk-unsplash.jpg">
          <h3>IPv4: address length</h3>
          <p class="fragment">32 bits</p>
          <p class="fragment">four 8-bit values (0..255 decimal)</p>
          <p class="fragment">example:<br>
          <code>194.29.151.5</code></p>
        </section>

        <section data-background-image="bg/dylan-collette-bVk6C1emSxk-unsplash.jpg">
          <h3>IPv4: number of possible addresses</h3>
          <p class="fragment">2<sup>32</sup> ≈ 4&nbsp;000&nbsp;000&nbsp;000</p>
          <p><small class="fragment">(4 billions)</small></p>
          <p class="fragment"><small>including addresses of special meaning/purpose</small></p>
        </section>

        <section data-background-image="bg/danny-g-ka4wDQPFm2c-unsplash.jpg">
          <h3>NAT - Network Address Translation</h3>
          <ul>
            <li class="fragment"><em>masquerade</em></li>
            <li class="fragment">stateful</li>
            <li class="fragment">connection tracking table
              <ul>
                <li class="fragment">memory usage</li>
                <li class="fragment">lookups</li>
                <li class="fragment">data volatility</li>
                <li class="fragment">not distributed, not persistent</li>
              </ul>
            </li>
          </ul>
        </section>

        <section data-background-image="bg/breno-assis-r3WAWU5Fi5Q-unsplash.jpg">
          <h3>IPv4: NAT</h3>
          <p>private subnets:</p>
          <ul>
            <li class="fragment"><code>192.168.0.0<span style='color:red'>/24</span></code></li>
            <li class="fragment"><code>10.0.0.0<span style='color:red'>/8</span></code></li>
            <li class="fragment"><code>172.16.0.0<span style='color:red'>/20</span></code></li>
            <li class="fragment"><code>100.64.0.0<span style='color:red'>/10</span></code> (carrier-grade)</li>
          </ul>
          <aside class="rfc fragment">
            <a href="https://tools.ietf.org/html/rfc1918">RFC 1918</a>, <a href="https://tools.ietf.org/html/rfc6598">RFC 6598</a>
          </aside>
        </section>

        <section data-background-image="bg/web-hosting-tN344soypQM-unsplash.jpg">
          <h3>IPv4: NAT </h3>
          <ul>
            <li class="fragment">solves a problem of limited address space</li>
            <li class="fragment">works like a firewall (kind of...)</li>
          </ul>
        </section>

        <section data-background-image="bg/web-hosting-tN344soypQM-unsplash.jpg">
          <h3>IPv4: NAT wady</h3>
          <ul>
            <li class="fragment">does not allow direct connections<sup>*</sup></li>
            <li class="fragment">makes identification difficult</li>
            <li class="fragment">disconnects idle connections</li>
            <li class="fragment">expensive for providers</li>
            <li class="fragment">hinders network integration in large institutions</li>
            <li class="fragment">VPN problems (possible address conflict)</li>
          </ul>
          <aside class="notes">
            *) direct connections are possible thanks to NAT-traversal techniques, but it is not possible to establish them without the active participation of a third party
          </aside>
        </section>

        <section data-background-image="bg/jordan-harrison-40XgDxBfYXM-unsplash.jpg">
          <h3>IPv4: fragmentation</h3>
          <p class="fragment">Fragmentation can occur on every router</p>
          <ul>
            <li class="fragment">suboptimal use of the link</li>
            <li class="fragment">unnecessary load on routers</li>
          </ul>
        </section>

        <section data-background-image="bg/magnus-engo-mbXEkW5ZyBQ-unsplash.jpg">
          <h3>IPv4: checksum recalculation</h3>
          <p class="fragment">The checksum includes the TTL value...</p>
          <p class="fragment"><small>TTL: Time To Live</small></p>
          <p class="fragment">Must be recalculated <span class="fragment">on each hop</span></p>
        </section>
      </section>

      <section>
        <section data-background-color="#215" class='wow white'>
          <h2>IPv6</h2>
          <p class="fragment">A new (1999) protocol to solve the above problems and limitations of IPv4.</p>
          <ul>
            <li class="fragment">larger address space</li>
            <li class="fragment">simplified header</li>
            <li class="fragment">simplified routing mechanisms</li>
          </ul>
        </section>
      </section>

      <section>
        <section data-background-image="bg/hanson-lu-CT2jvXtFQ_g-unsplash.jpg">
          <h3>IPv6 addresses</h3>
          <p class="fragment">Length: 128 bits</p>
          <p class="fragment"><small>(aka 16 bytes aka 32 hex digits)</small></p>
          <p class="fragment">2<sup>128</sup> ≈ 3.4 × 10<sup>38</sup></p>
          <p class="fragment"><small>340 undecillions</small></p>
          <aside class="rfc fragment">
            <a href="https://tools.ietf.org/html/rfc3513">RFC 3513</a>,
            <a href="https://www.ibiblio.org/units/large.html">Large numbers</a>
          </aside>
        </section>

        <section data-background-image="bg/hanson-lu-CT2jvXtFQ_g-unsplash.jpg">
          <h3>Address notation</h3>
          <ul>
            <li class="fragment">hexdecimal</li>
            <li class="fragment">4-digit segments</li>
            <li class="fragment">8 segments</li>
            <li class="fragment">segments separated with colons</li>
          </ul>
          <p class="fragment" style='font-size: 80%'>Example:<br>
          <code class="fragment">2a02:a310:a822:810a:1d14:e14d:2347:eeac</code></p>
          <aside class="rfc fragment">
            <a href="https://tools.ietf.org/html/rfc3513">RFC 3513</a>
          </aside>
        </section>

        <section data-background-image="bg/hanson-lu-CT2jvXtFQ_g-unsplash.jpg">
          <h3>Address notation - examples</h3>
          <ul style='font-size:80%'>
            <li class="fragment"><code>2a02:a310:a822:810a:1d14:e14d:2347:eeac</code></li>
            <li class="fragment"><code>2a00:0f41:1cc3:45f7:9c2a:4741:c13d:39a0</code></li>
            <li class="fragment"><code>2a03:b0c0:002a:a0d0:0000:0000:0813:9001</code></li>
            <li class="fragment"><code>fe80:0000:0000:0000:0000:0000:0000:0001</code></li>
            <li class="fragment"><code>0000:0000:0000:0000:0000:0000:0000:0001</code></li>
            <li class="fragment"><code>fde4:8dba:82e1:1234:bc73:cade:7ac9:bc82</code></li>
          </ul>
          <p class="fragment">Too long?</p>
        </section>

        <section data-background-image="bg/hanson-lu-CT2jvXtFQ_g-unsplash.jpg">
          <h3>Shortened notation</h3>
          <ul>
            <li class="fragment">Leading zeros to be omitted.</li>
            <li class="fragment">Adjacent <code>0000</code> to be omitted (once)</li>
          </ul>
        </section>

        <section data-background-image="bg/hanson-lu-CT2jvXtFQ_g-unsplash.jpg">
          <h3>Shortened notation - example #1</h3>
          <p style='font-size:80%'><code>2a02:<span class='fragment highlight-red'>0</span>310:<span class=
          'fragment highlight-red'>00</span>22:810a:<span class='fragment highlight-red'>0</span>d14:e14d:<span class=
          'fragment highlight-red'>000</span>6:eeac</code></p>
          <p style='font-size:80%' class="fragment"><code>2a02:&nbsp;310:&nbsp;&nbsp;22:810a:&nbsp;d14:e14d:&nbsp;&nbsp;&nbsp;6:eeac</code></p>
          <p style='font-size:80%; color: #3f3' class="fragment"><code>2a02:310:22:810a:d14:e14d:6:eeac</code></p>
        </section>

        <section data-background-image="bg/hanson-lu-CT2jvXtFQ_g-unsplash.jpg">
          <h3>Shortened notation - example #2</h3>
          <p style='font-size:80%'><code>2a02:310:22:810a:<span class='fragment highlight-red'>0000</span>:<span class=
          'fragment highlight-red'>0000</span>:<span class='fragment highlight-red'>0000</span>:7</code></p>
          <p style='font-size:80%' class="fragment">
          <code>2a02:310:22:810a:&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;:7</code></p>
          <p class="fragment" style='color: #3f3; font-size:80%;'><code>2a02:310:22:810a::7</code></p>
        </section>

        <section data-background-image="bg/hanson-lu-CT2jvXtFQ_g-unsplash.jpg">
          <h3>Shortened notation - more examples</h3>
          <p class="fragment"><code>2001:470:6229:1::2</code></p>
          <p class="fragment"><code>fe80::1</code></p>
          <p class="fragment"><code>::1</code></p>
          <p class="fragment"><code>::</code></p>
        </section>

        <section data-background-image="bg/hanson-lu-CT2jvXtFQ_g-unsplash.jpg">
          <h3>Application and URL notation</h3>
          <p class="fragment">Square brackets</p>
          <p class="fragment">Required in some protocols and config files</p>
          <p class="fragment"><code>HTTP_ADDR = [::1]</code></p>
          <p class="fragment"><code>http://[::1]:8030/</code></p>
        </section>
      </section>

      <section>
        <section data-background-image="bg/atik-sulianami-Ko9JTVSt6Ok-unsplash.jpg">
          <h3>Networks and netmasks (prefixes)</h3>
          <ul>
            <li class="fragment">notation: <code>/64</code></li>
            <li class="fragment">name: <strong>prefix length</strong></li>
            <li class="fragment">no equivalent of IPv4-style mask <code style='color: #f44'>255.255.255.0</code></li>
          </ul>
        </section>

        <section data-background-image="bg/atik-sulianami-Ko9JTVSt6Ok-unsplash.jpg">
          <h3>Subnets</h3>
          <p class="fragment">Standard prefix length: <strong>64</strong>.</p>
          <p class=fragment><em>one-size-fits-all</em></p>
          <table class="fragment" style='border:2px;'>
            <tr>
              <th>network</th>
              <th>host</th>
            </tr>
            <tr>
              <td>64 bits</td>
              <td>64 bits</td>
            </tr>
          </table>
          <p class="fragment">capacity: 2<sup>64</sup> ≈ 18 000 000 000 000 000 000</p>
          <p class="fragment"><small>(18 quintillion)</small></p>
          <p class="fragment">Other prefix lengths: ranges, routes.</p>
        </section>
      </section>

      <section>
        <section data-background="bg/kyle-glenn-nXt5HtLmlgE-unsplash.jpg">
          <h3>
          The number of address</h3>
          <ul>
            <li>per km²</li>
            <li>per person</li>
          </ul>
        </section>

        <section data-background="bg/kyle-glenn-nXt5HtLmlgE-unsplash.jpg">
          <h3>Earth surface area</h3>
          <p class="fragment">510 000 000 km²</p>
          <p class="fragment">land: 153 000 000 km² (around 30%)</p>
        </section>

        <section data-background="bg/kyle-glenn-nXt5HtLmlgE-unsplash.jpg">
          <h3>IPv4</h3>
          <ul>
            <li class="fragment">number of addresses: 2<sup>32</sup> ≈ 4 000 000 000</li>
            <li class="fragment">avg. density: 8.4 <math>
                <mfrac><mrow><mtext>addr</mtext></mrow><mrow><msup><mi>km</mi><mn>2</mn></msup></mrow></mfrac>
                </math>
            </li>
            <li class="fragment">lands only: 28.1 <math>
                <mfrac><mrow><mtext>addr</mtext></mrow><mrow><msup><mi>km</mi><mn>2</mn></msup></mrow></mfrac>
                </math>
            </li>
          </ul>
        </section>

        <section data-background="bg/kyle-glenn-nXt5HtLmlgE-unsplash.jpg">
          <h3>IPv6</h3>
          <ul>
            <li class="fragment">number of <u>subnets</u>: 2<sup>64</sup> ≈ 18 × 10<sup>18</sup></li>
            <li class="fragment">average density: 36000 <math>
                <mfrac><mrow><mtext>subnets</mtext></mrow><mrow><msup><mi>m</mi><mn>2</mn></msup></mrow></mfrac>
              </math>
            </li>
            <li class="fragment">lands only: 120000 <math>
                <mfrac><mrow><mtext>subnets</mtext></mrow><mrow><msup><mi>m</mi><mn>2</mn></msup></mrow></mfrac>
              </math>
            </li>
          </ul>
        </section>

        <section data-background="bg/jose-martin-ramirez-c-45sjAjSjArQ-unsplash.jpg">
          <h3>Earth population</h3>
          <p class="fragment"><output id='worldpopulation'>8 000 000 000</output> people</p>
        </section>

        <section data-background="bg/jose-martin-ramirez-c-45sjAjSjArQ-unsplash.jpg">
          <h3>IPv4</h3>
          <ul>
            <li class="fragment">number of addresses: 2<sup>32</sup> ≈ 4 000 000 000</li>
            <li class="fragment">avg: 
                <script>document.write( (Math.pow(2,32)/8000000000).toFixed(3) )</script>
                <math>
                <mfrac><mrow><mtext>addr</mtext></mrow><mrow><mtext>person</mtext></mrow></mfrac>
                </math>
            </li>
          </ul>
        </section>

        <section data-background="bg/jose-martin-ramirez-c-45sjAjSjArQ-unsplash.jpg">
          <h3>IPv6</h3>
          <ul>
            <li class="fragment">number of <u>subnets</u>: 2<sup>64</sup> ≈ 18 × 10<sup>18</sup></li>
            <li class="fragment">avg: 2.3 × 10<sup>9</sup> <math>
               <mfrac><mrow><mtext>subnets</mtext></mrow><mrow><mtext>person</mtext></mrow></mfrac>
              </math>
            </li>
          </ul>
        </section>
      </section>

      <section>
        <section data-background-image="bg/imgix-klWUhr-wPJ8-unsplash.jpg">
          <h3>Devince configuration</h3>
          <ul>
            <li class="fragment">static</li>
            <li class="fragment">dynamic</li>
          </ul>
          <p class="fragment">Usually many addresses per interface</p>
          <p class="fragment"><small>(In IPv4 usually single address)</small></p>
        </section>

        <section data-background-image="bg/imgix-klWUhr-wPJ8-unsplash.jpg">
          <h3>Link-Local Addresses</h3>
          <ul>
            <li class="fragment">address class: <code>fe80::/64</code></li>
            <li class="fragment">configured automatically when device goes up</li>
            <li class="fragment">non-routable</li>
            <li class="fragment">not necessarily unique</li>
            <li class="fragment">few generation methods</li>
          </ul>
        </section>

        <section data-background-image="bg/imgix-klWUhr-wPJ8-unsplash.jpg">
          <h3>Address generation methods</h3>
          <ul>
            <li class="fragment">EUI-64 (based on MAC)</li>
            <li class="fragment">totally random</li>
            <li class="fragment">manual: i.e. <code>fe80::1</code></li>
          </ul>
        </section>

        <section data-background-image="bg/imgix-klWUhr-wPJ8-unsplash.jpg">
          <h3>Link-Local EUI-64</h3>
          <p class="fragment">MAC:</p>
          <p class="fragment"><code style='color:red;'>4c:eb:42:17:65:a1</code></p>
          <p class="fragment">IPv6 link local:</p>
          <p class="fragment"><code>fe80::<span class="fragment"><span style='color:red'>4<u>e</u>eb:42</span><span class=
          "fragment">ff</span></span><span class="fragment">:fe<span style='color:red' class="fragment">17:65a1</span></span></code></p>
          <aside class="rfc fragment">
            <a href="https://tools.ietf.org/html/rfc2373#section-2.5.1">RFC 2373 sec. 2.5.1</a>
          </aside>
          <aside class="notes">
            The motivation for inverting the "u" bit when forming the interface
            identifier is to make it easy for system administrators to hand
            configure local scope identifiers when hardware tokens are not
            available.  This is expected to be case for serial links, tunnel end-
            points, etc.  The alternative would have been for these to be of the
            form <code>0200:0:0:1</code>, <code>0200:0:0:2</code>, etc., instead of the much simpler <code>::1</code>,
            <code>::2</code>, etc.
          </aside>
        </section>

        <section data-background='#fff'>
          <h3>Link local on Windows</h3><img src='assets/ipv6/win-ll1.png'>
        </section>

        <section data-background='#fff'>
          <h3>Link local on Windows</h3><img src='assets/ipv6/win-ll2.png'>
        </section>

        <section data-background-image="bg/imgix-klWUhr-wPJ8-unsplash.jpg">
          <h3>Link local and interface id</h3>
          <p class="fragment">Link Local addresses usually include interface id:</p>
          <p class="fragment"><code>fe80::1234<u>%3</u></code></p>
          <p class="fragment"><code>fe80::1234<u>%eth0</u></code></p>
        </section>
      </section>

      <section>
        <section data-background-image="bg/burst-kUqqaRjJuw0-unsplash.jpg">
          <h3>IPv6 autoconfiguration</h3>
          <ul>
            <li class="fragment">SLAAC - StateLess Address AutoConfiguration</li>
            <li class="fragment">DHCPv6</li>
            <li class="fragment">Stateless DHCPv6</li>
          </ul>
        </section>

        <section data-background-image="bg/burst-kUqqaRjJuw0-unsplash.jpg">
          <h3>SLAAC</h3>
          <p class="fragment">Router rozgłasza prefix używany w danej sieci.</p>
          <p class="fragment">Stała długość&nbsp;prefixu: <strong>64</strong></p>
          <p class="fragment">Metody wyboru adresu - analogiczne jak przy LinkLocal.</p>
          <aside class="rfc fragment">
            <a href="https://tools.ietf.org/html/rfc4862">RFC 4862</a>
          </aside>
        </section>

        <section data-background-image="bg/burst-kUqqaRjJuw0-unsplash.jpg">
          <h3>SLAAC - metody wyboru adresu</h3>
          <ul>
            <li class="fragment">EUI-64 (w oparciu o MAC)</li>
            <li class="fragment">losowo</li>
            <li class="fragment">token <span class="fragment">(stała końcówka, nie mylić z <i>token ring</i>)</span></li>
          </ul>
          <p class="fragment">Duplikaty?</p>
        </section>

        <section data-background-image="bg/burst-kUqqaRjJuw0-unsplash.jpg">
          <h3>Adresy tokenowe</h3>
          <p class="fragment">Końcówka adresu sklejana z rozgłoszonym prefixem</p>
          <table>
            <tr>
              <td class='fragment'>token:</td>
              <td class='fragment'><code style='color:#f93'>71</code></td>
            </tr>
            <tr>
              <td class='fragment'>prefix:</td>
              <td class='fragment'><code style='color:#35e'>2001:db8:4acf:9900::/64</code></td>
            </tr>
            <tr>
              <td class='fragment'>adres:</td>
              <td class='fragment'><code style='color:#35e'>2001:db8:4acf:9900::<span style='color:#f93'>71</span></code></td>
            </tr>
          </table>
          <ul>
            <li class="fragment">Linux: <code>ip token set ::71 dev eth0</code></li>
            <li class="fragment">macOS, Windows: <strong>nie obsługuje</strong></li>
          </ul>
        </section>

        <section data-background-image="bg/burst-kUqqaRjJuw0-unsplash.jpg">
          <h3>SLAAC ograniczenia</h3>
          <p class="fragment">Ograniczona możliwość konfiguracji adresu serwera DNS.</p>
          <p class="fragment">Ograniczona możliwość&nbsp;aktualizacji wpisów w DNS.</p>
        </section>

        <section data-background-image="bg/burst-kUqqaRjJuw0-unsplash.jpg">
          <h3>SLAAC EUI-64 przykład</h3>
          <p class="fragment">Router ogłasza prefix</p>
          <p class="fragment"><code style='color:#35e'>2001:db8:11:77::/64</code></p>
          <p class="fragment">Komputer ma MAC</p>
          <p class="fragment"><code style='color:#f93'>4c:eb:00:11:22:33</code></p>
          <p class="fragment">Adres IPv6: <code style='color: #35e' class="fragment">2001:db8:11:77:<span style='color:#f93' class=
          "fragment">4eeb:00<span style='color:#aaa'>ff</span><span style='color: #f93' class="fragment">:<span style=
          'color:#aaa'>fe</span>11:2233</span></span></code></p>
        </section>

        <section data-background-image="bg/burst-kUqqaRjJuw0-unsplash.jpg">
          <h3>EUI-64 - brak prywatności</h3>
          <p class="fragment">Ten sam identyfikator EUI-64 w różnych sieciach.</p>
          <ul style='text-align:right; font-size: 80%;'>
            <li class="fragment"><code style='color:#35e'>2001:db8:11:77:</code><code style='color:#f93'>4eeb:00ff:fe11:2233</code></li>
            <li class="fragment"><code style='color:#35e'>2001:1234:a:77:</code><code style='color:#f93'>4eeb:00ff:fe11:2233</code></li>
            <li class="fragment"><code style='color:#35e'>2a01:470:530:aa90:</code><code style='color:#f93'>4eeb:00ff:fe11:2233</code></li>
            <li class="fragment"><code style='color:#35e'>2001:100:aa9:9782:</code><code style='color:#f93'>4eeb:00ff:fe11:2233</code></li>
            <li class="fragment"><code style='color:#35e'>2a01:99::</code><code style='color:#f93'>4eeb:00ff:fe11:2233</code></li>
          </ul>
        </section>

        <section data-background-image="bg/burst-kUqqaRjJuw0-unsplash.jpg">
          <h3>EUI-64 - wady i zalety</h3>
          <ul>
            <li class="fragment">Identyfikuje urządzenie, gdy przełącza się&nbsp;ono między różymi sieciami. (telefon, tablet, laptop)</li>
            <li class="fragment">... również po całkowitej reinstalacji systemu!</li>
            <li class="fragment">Zdradza informację o producencie, typie urządzenia itp.</li>
            <li class="fragment">Adres można przewidzieć znając MAC adres.</li>
          </ul>
          <aside class="rfc fragment">
            <a href="https://tools.ietf.org/html/rfc4291">RFC 4291</a>
          </aside>
        </section>

        <section data-background-image="bg/burst-kUqqaRjJuw0-unsplash.jpg">
          <h3>Privacy Extensions for SLAAC</h3>
          <ul>
            <li class="fragment">dodatkowy adres</li>
            <li class="fragment">generowany losowo</li>
            <li class="fragment">używany do połączeń wychodzących</li>
            <li class="fragment">zmieniany co kilka godzin</li>
          </ul>
          <aside class="rfc fragment">
            <a href="https://tools.ietf.org/html/rfc4941">RFC 4941</a>
          </aside>
        </section>

        <section data-background-image="bg/burst-kUqqaRjJuw0-unsplash.jpg">
          <h3>Adresy IPv6 pod Linuksem</h3>
          <pre style='color: #999;'>
<span class="fragment">$ <kbd style='color:#fff'>ip addr show wlan0</kbd></span>
<span class="fragment">3: <span style='color:#fff'>wlan0</span>: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 state UP qlen 1000</span>
<span class="fragment">    link/ether <span style='color:yellow'>4c:eb:42:17:65:a1</span> brd ff:ff:ff:ff:ff:ff</span>
<span class="fragment">    inet 192.168.0.166/24 brd 192.168.0.255 scope global dynamic wlan0
valid_lft 3413sec preferred_lft 3413sec</span>
<span class="fragment">    inet6 <span style='color:lightgreen;'>2a02:a310:22:6000:fcf1:5d4a:7148:a2be</span>/64 scope global temporary dynamic 
valid_lft 580286sec preferred_lft 61616sec</span>
<span class="fragment">    inet6 <span style='color:orange;'>2a02:a310:22:6000:<span style='color:yellow'>4eeb:42</span>ff:fe<span style=
'color:yellow'>17:65a1</span></span>/64 scope global mngtmpaddr noprefixroute dynamic
valid_lft 1143688sec preferred_lft 538888sec</span>
<span class="fragment">    inet6 <span style='color:red;'>fe80::<span style='color:yellow'>4eeb:42</span>ff:fe<span style=
'color:yellow'>17:65a1</span></span>/64 scope link 
valid_lft forever preferred_lft forever</span>
        </pre>
        </section>

        <section data-background-image="bg/burst-kUqqaRjJuw0-unsplash.jpg">
          <h3>DHCPv6</h3>
          <ul>
            <li class="fragment">analogia do DHCP w IPv4</li>
            <li class="fragment">dzierżawa adresu oraz dodatkowe informacje, np. DNS</li>
            <li class="fragment">możliwość aktualizacji wpisów DNS</li>
            <li class="fragment"><strong>Informacje o bramie domyślnej otrzymywane są inną&nbsp;drogą!</strong></li>
          </ul>
          <aside class="rfc fragment">
            <a href="https://tools.ietf.org/html/rfc3315">RFC 3315</a>
          </aside>
        </section>

        <section data-background-image="bg/burst-kUqqaRjJuw0-unsplash.jpg">
          <h3>Stateless DHCPv6</h3>
          <ul>
            <li class="fragment">podzbiór funkcjonalności DHCPv6</li>
            <li class="fragment">konfiguracja DNS i innych opcji</li>
            <li class="fragment">adres uzyskiwany metodą SLAAC</li>
          </ul>
          <aside class="rfc fragment">
            <a href="https://tools.ietf.org/html/rfc3736">RFC 3736</a>
          </aside>
        </section>
      </section>

      <section>
        <section data-background-image="bg/leon-seibert-2m71l9fA6mg-unsplash.jpg">
          <h3>IPv6 - dostępność</h3>
          <ul>
            <li class="fragment">Dostęp natywny</li>
            <li class="fragment">Technologie przejściowe:
              <ul>
                <li>Tunele 6in4</li>
                <li>Teredo</li>
              </ul>
            </li>
          </ul>
        </section>

        <section data-background="#fff">
          <h3>Czy mam IPv6?</h3><img src='assets/ipv6/win-my-ip.png'>
        </section>

        <section data-background="#fff">
          <h3>Czy mam IPv6?</h3><img src='assets/ipv6/linux-my-ip.png'>
        </section>

        <section data-background="#fff">
          <h3>Czy mam IPv6?</h3><img src='assets/ipv6/ipv6-test-1.png'>
        </section>

        <section data-background="#fff">
          <h3>Czy mam IPv6?</h3><img src='assets/ipv6/ipv6-test-2.png'>
        </section>

        <section data-background-image="bg/leon-seibert-2m71l9fA6mg-unsplash.jpg">
          <h3>Dostęp natywny</h3>
          <p class="fragment">Łączność IPv6 u operatorów działających w Polsce:</p>
          <ul class="fragment">
            <li>UPC</li>
            <li>Orange</li>
            <li><i>inni?</i></li>
          </ul>
        </section>

        <section data-background-image="bg/leon-seibert-2m71l9fA6mg-unsplash.jpg">
          <h3>IPv6 w UPC</h3>
          <ul>
            <li class="fragment">Dostępny dla części klientów (zależnie od regionu, taryfy i używanego modemu)</li>
            <li class="fragment">Łączność IPv4 w oparciu o <strong>Dual Stack-Lite</strong></li>
            <li class="fragment">W przypadku korzystania z IPv6 traci się&nbsp;publiczny adres IPv4</li>
          </ul>
        </section>

        <section data-background-image="bg/leon-seibert-2m71l9fA6mg-unsplash.jpg">
          <h3>Technologia Dual-Stack Lite</h3>
          <p class="fragment">Zapewnia łączność IPv4 na łączu działającym po IPv6</p>
          <p class="fragment">Działa jak NAT - brak publicznego IPv4</p>
          <p class="fragment">Może sprawiać problemy z niektórymi usługami, np. VPN</p>
          <p class="fragment"><small>(MTU i fragmentacja)</small></p>
        </section>

        <section data-background-image="bg/daniel-jerez-CD4WHrWio6Q-unsplash.jpg">
          <h3>Tunele 6in4</h3>
          <ul>
            <li class="fragment">Technologia przejściowa</li>
            <li class="fragment">Łączność IPv6 jest kapsułkowana w IPv4</li>
            <li class="fragment">Najlepiej skonfigurować&nbsp;na routerze</li>
            <li class="fragment">Dostawcy tuneli: <a href='https://en.wikipedia.org/wiki/List_of_IPv6_tunnel_brokers'>Wikipedia: List of IPv6 tunnel
            brokers</a>
            </li>
          </ul>
          <aside class="rfc fragment">
            <a href="https://tools.ietf.org/html/rfc1933">RFC 1933</a>
          </aside>
        </section>

        <section data-background-image="bg/daniel-jerez-CD4WHrWio6Q-unsplash.jpg">
          <h3>Tunnel Broker</h3>
          <ul>
            <li class="fragment">Darmowa usługa oferowana przez firmę&nbsp;Hurricane Electric</li>
            <li class="fragment">Wraz z tunelem dostaje się&nbsp;pulę adresów (<code>/64</code> lub nawet <code>/48</code>)</li>
            <li class="fragment">Końcówki tuneli znajdują&nbsp;się&nbsp;w różnych krajach, w tym w Polsce.</li>
          </ul>
          <p class="fragment">Szczegóły: <a href='https://tunnelbroker.net/'>https://tunnelbroker.net/</a></p>
        </section>

        <section data-background-image="bg/daniel-jerez-CD4WHrWio6Q-unsplash.jpg">
          <h3>Tunnel Broker - Certyfikaty</h3>
          <p>Hurricane Electric oferuje darmowe materiały szkoleniowe i egzamin online zakończony certyfikatem potwierdzającym znajomość&nbsp;IPv6.</p>
        </section>

        <section data-background-color="#fff" data-background-image='assets/ipv6/he-tshirt.png'>
          <h3>Tunnel Broker - Koszulki</h3>
          <p>Koszulka gratis po zdaniu egzaminu online!</p>
          <p class='fragment'><small>(chyba już się skończyły)</small>
        </section>

        <section data-background-image="bg/daniel-jerez-CD4WHrWio6Q-unsplash.jpg">
          <h3>Teredo</h3>
          <ul>
            <li class="fragment">Technologia przejściowa</li>
            <li class="fragment">Mechanizm uzyskiwania łączności IPv6 w sieciach IPv4 opracowany przez Microsoft</li>
            <li class="fragment">Działa za NAT</li>
            <li class="fragment">Domyślnie włączony w Windows 10, ale blokowany przez przeglądarki</li>
            <li class="fragment">Działa w oparciu o sieć "przekaźników" (ang. <i>relays</i>)</li>
          </ul>
        </section>

        <section data-background-image="bg/daniel-jerez-CD4WHrWio6Q-unsplash.jpg">
          <h3>Budowa adresu Teredo</h3>
          <pre>
<span class="fragment">2001:0000:ssss:ssss:flag:port:cccc:cccc</span>
<span class="fragment">^^^^ ^^^^                               prefix 2001::/32</span>
<span class="fragment">          ^^^^ ^^^^                     adres IP serwera teredo</span>
<span class="fragment">                    ^^^^                flagi</span>
<span class="fragment">                         ^^^^           port UDP klienta (neg)</span>
<span class="fragment">                              ^^^^ ^^^^ adres IP klienta (neg)</span>
</pre>
          <p class="fragment">neg = negacja bitów</p>
          <aside class="notes">
            Negację bitów stosuje się, aby routery, w szczególności realizujące NAT (maskaradę), nie próbowały być zbyt mądre i nie ingerowały w zawartość
            pakietu - nie modyfikowały wykrytego adresu IP.
          </aside>
        </section>

        <section data-background-image="bg/meng-ji-8BH_M-53CyA-unsplash.jpg">
          <h3>Dostępność&nbsp;serwisów po IPv6</h3>
          <ul>
            <li class="fragment">Google (Youtube, GMail, Maps...)</li>
            <li class="fragment">Facebook (Instagram)</li>
            <li class="fragment">Wikipedia</li>
            <li class="fragment">Yahoo</li>
            <li class="fragment">OpenStreetMap</li>
            <li class="fragment">Netflix</li>
            <li class="fragment">klienci Cloudflare CDN</li>
            <li class="fragment"><i>i inne!</i></li>
          </ul>
        </section>

        <section data-background='#fff'>
          <h3>Czy serwis działa po IPv6?</h3><img src='assets/ipv6/ipv6-artcore.png'>
        </section>

        <section data-background='#fff'>
          <h3>Czy serwis działa po IPv6?</h3><img src='assets/ipv6/ipv6-pw-edu-pl.png'>
        </section>

        <section data-background='#fff'>
          <h3>Czy serwis działa po IPv6?</h3>
          <p><code>nslookup DOMENA</code> <img src='assets/ipv6/ipv6-nslookup.png'></p>
        </section>

        <section data-background-image="bg/meng-ji-8BH_M-53CyA-unsplash.jpg">
          <h3>Dostępność łączności IPv6 w usługach hostingu, kolokacji, VPS, serwerów dedykowanych</h3>
          <ul>
            <li class="fragment">Digital Ocean</li>
            <li class="fragment">Vultr</li>
            <li class="fragment">Hetzner</li>
            <li class="fragment">OVH</li>
            <li class="fragment">Nodeteria</li>
            <li class="fragment"><i>i inne!</i></li>
          </ul>
        </section>
      </section>

      <section>
        <section data-background="#fff">
          <h2>Udział ruchu IPv6 wg Google</h2><img src="assets/ipv6/google-ipv6.png">
        </section>

        <section data-background="#fff">
          <h2>IPv6 w Polsce (wg Google)</h2><img src="assets/ipv6/google-stats-pl.png">
        </section>

        <section data-background-image="bg/brett-zeck-eyfMgGvo9PA-unsplash.jpg">
          <table style='font-size: 60%'>
            <tr>
              <th>kraj</th>
              <th>udział IPv6</th>
            </tr>
            <tr>
              <td>Belgia</td>
              <td>52%</td>
            </tr>
            <tr>
              <td>Niemcy</td>
              <td>53%</td>
            </tr>
            <tr>
              <td>Indie</td>
              <td>62%</td>
            </tr>
            <tr>
              <td>Francja</td>
              <td>49%</td>
            </tr>
            <tr>
              <td>USA</td>
              <td>45%</td>
            </tr>
            <tr>
              <td>Wietnam</td>
              <td>48%</td>
            </tr>
            <tr>
              <td>Japonia</td>
              <td>42%</td>
            </tr>
            <tr>
              <td>Kanada</td>
              <td>35%</td>
            </tr>
            <tr>
              <td>Polska</td>
              <td>15%</td>
            </tr>
            <tr>
              <td>Korea Południowa</td>
              <td>13%</td>
            </tr>
          </table>
          <p><small>Stan na sierpień 2021, źródło: <a href="https://www.google.com/intl/en/ipv6/statistics.html#tab=per-country-ipv6-adoption">Google IPv6 Adoption</a></small></p>
        </section>
      </section>

      <section data-background-image="bg/atik-sulianami-Ko9JTVSt6Ok-unsplash.jpg">
          <h3>Adresy multicastowe</h3>
          <ul>
              <li><code>ff02::1</code> - wszystkie hosty</li>
              <li><code>ff02::2</code> - wszystkie routery</li>
          </ul>
          <aside class="rfc fragment">
            <a href="https://tools.ietf.org/html/rfc4291">RFC 4291</a>
          </aside>
      </section>
      <section>
        <section data-background-image="bg/bill-oxford--fGqsewtsJY-unsplash.jpg">
          <h3>PD - Prefix Delegation</h3>
          <ul>
            <li class="fragment">rozszerzenie DHCPv6</li>
            <li class="fragment">delegacja routowalnego prefixu do klienta DHCP</li>
          </ul>
        </section>

        <section data-background-image="bg/bill-oxford--fGqsewtsJY-unsplash.jpg">
          <h3>ULA - Unique Local Address</h3>
          <ul>
            <li class="fragment"><code>fd00::/8</code></li>
            <li class="fragment">randomizacja prefixu</li>
            <li class="fragment">odpowiedniki sieci <code>10.0.0.0</code>, <code>192.168.0.0</code> etc z IPv4</li>
            <li class="fragment">zastosowanie: fragmenty sieci <u>odcięte od internetu</u></li>
            <li class="fragment">możliwość stosowania NAT (maskarady)</li>
            <li class="fragment">wirtualne maszyny, kontenery, podsieci - którym nie da się przydzielić adresów globalnych</li>
          </ul>
        </section>
      </section>

      <section>
        <section data-background-image="bg/daniel-mccullough--FPFq_trr2Y-unsplash.jpg">
          <h3>Projektowanie sieci z IPv6</h3>
          <ul>
            <li class="fragment">Stała wielkość podsieci /64</li>
            <li class="fragment">Brak ograniczeń liczby hostów w sieci</li>
            <li class="fragment">Brak konieczności przypisywania adresów IPv6 na poszczególnych interfejsach routera<sup>*</sup></li>
            <li class="fragment">Unikanie stosowania NAT<sup>*</sup></li>
            <li class="fragment">Konieczność konfiguracji firewalli</li>
            <li class="fragment">Alokacja co najmniej /64 na jednego klienta! (odsprzedaż usług)</li>
          </ul>
          <aside class="rfc fragment">
            <a href="https://tools.ietf.org/html/rfc6177">RFC 6177</a>, <a href="https://tools.ietf.org/html/rfc6598">RFC 6598</a>
          </aside>
          <aside class="notes">
            w uzasadnionych przypadkach można stosować NAT, głównie z adresami ULA
          </aside>
        </section>
      </section>

      <section>
        <section data-background-image="bg/johannes-plenio-GmBT6GQEOs0-unsplash.jpg">
          <h3>Stan wdrożenia i perspektywy</h3>
          <ul>
            <li class="fragment">Wyczerpany zasób adresów IPv4</li>
            <li class="fragment">Masowe stosowanie NAT</li>
            <li class="fragment">Brak realnej potrzeby nawiązywania połączeń peer-to-peer</li>
            <li class="fragment"><i>Internet of Things</i></li>
            <li class="fragment">Popularność chmury</li>
            <li class="fragment">Brak tzw. <strong>killer app</strong></li>
          </ul>
        </section>

        <section data-background-image="bg/moritz-kindler-G66K_ERZRhM-unsplash.jpg">
          <h3>Inne zagadnienia:</h3>
          <ul>
            <li class="fragment">Adresy multicast (zamiast broadcastów)</li>
            <li class="fragment">Neighbour discovery (odpowiednik ARP)</li>
          </ul>
        </section>
      </section>

      <section>
        <section data-background-image="bg/bryan-minear-YWAVTqGnyjI-unsplash.jpg">
          <h2>Dziękuję za uwagę</h2>
          <p>Pytania?</p>
        </section>
      </section>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.0/reveal.min.js"></script> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.0/plugin/zoom/zoom.min.js"></script> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.0/plugin/search/search.min.js"></script> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.0/plugin/notes/notes.min.js"></script> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.0/plugin/markdown/markdown.min.js"></script> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.1.0/plugin/highlight/highlight.min.js"></script> 
  <script>
  // More info https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
        controls: true,
        progress: true,
        hash: true,
        center: true,
        transition: 'slide', // none/fade/slide/convex/concave/zoom
        plugins: [ RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight ]
  });

  [... document.querySelectorAll(".reveal section h3, .reveal section h2, .reveal section h1")]
    .forEach(x => {
      x.innerHTML = x.innerHTML
        .replace( "IPv4", "<span class=noupper>IPv4</span>" )
        .replace( "IPv6", "<span class=noupper>IPv6</span>" );
    });
  </script>
</body>
</html>
